@{
    ViewBag.Title = "User Management";
    Layout = "~/Views/Shared/_Admin.cshtml";
}

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered">
                <thead>
                    <tr>
                        <th role="columnheader" class="pri-bg-colour pri-fg-colour">UserName</th>
                        <th role="columnheader" class="pri-bg-colour pri-fg-colour">Name</th>
                        <th role="columnheader" class="pri-bg-colour pri-fg-colour">Email Address</th>
                        <th role="columnheader" class="pri-bg-colour pri-fg-colour">Is Active?</th>
                        <th class="pri-bg-colour pri-fg-colour">&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        var counter = 0;
                        while (counter < 10)
                        {
                            counter += 1;
                        <tr>
                            <td>MyUserName</td>
                            <td>FirstName LastName</td>
                            <td>FirstName.LastName@domain.com</td>
                            <td><i class="icon-check icon-2"></i></td>
                            <td>
                                <span class="edititem icon-pencil icon-1x"></span>
                                <span class="resetpwd icon-lock icon-1x"></span>
                            </td>
                        </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="modal hide fade" id="resetdialog">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Are you sure?</h3>
    </div>
    <div class="modal-body">
        This will generate a new password and send it to the email address as listed for this user. Be sure that the email address is correct.
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">No</button>
        <button class="btn btn-primary">Yes</button>
    </div>
</div>

<div class="modal hide fade" id="editdialog">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Modify this User</h3>
    </div>
    <div class="modal-body">
        <form action="#" method="get">
            <label for="userid">User Name</label>
            <input type="text" class="input-small" id="userid" name="userid" />

            <label for="username">Name</label>
            <input type="text" class="input-large" id="username" name="username" />

            <label for="email">Email</label>
            <input type="text" class="input-large" id="email" name="email" />

            <label for="email">Active User?</label>
            <input type="checkbox" class="checkbox" id="isactive" name="isactive" />

            <div class="container-fluid shaded">
                <div class="row-fluid">
                    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered">
                        <caption>
                            <h4>User Permissions</h4>
                        </caption>
                        <thead>
                            <tr>
                                <th role="columnheader" class="pri-bg-colour pri-fg-colour"></th>
                                <th role="columnheader" class="pri-bg-colour pri-fg-colour">Role Name</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                var rolecounter = 0;
                                while (rolecounter < 10)
                                {
                                    rolecounter += 1;
                                <tr>
                                    <td>
                                        <input type="checkbox" class="checkbox" /></td>
                                    <td>Administrator Type @rolecounter</td>
                                </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>

        </form>
    </div>
    <div class="modal-footer">
        <input type="reset" value="Clear" class="btn-link" />&nbsp;&nbsp;
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        <button class="btn btn-primary">Save changes</button>
    </div>
</div>

<script>
    $(function () {

        var dataTable = $(".datatable").dataTable({
            "sPaginationType": "full_numbers",
            "bProcessing": true,
            "bServerSide": false,
            "sDom": 'RC<"clear">lfrtip'
        });
        $(".ColVis_Button").addClass("btn").text("Show / Hide Columns").css({ "margin-left": "5px" });

        $(".edititem").click(function () {
            $("#editdialog #userid").val("MyUserName");
            $("#editdialog #username").val("Donal Duck");
            $("#editdialog #email").val("MyEmail@domain.com");
            $("#editdialog").modal("show");
        });

        $(".resetpwd").click(function () {
            $("#resetdialog").modal("show");
        });

        $(".modal-footer .btn-primary").click(function () {
            toastr.success("Those changes were successfully updated.", "Webtrieve9 Says");
            $(".modal").modal("hide");
        });

        $(".edititem").attr("title", "Click this icon to edit this tag").tooltip();
        $(".resetpwd").attr("title", "Reset this user's password").tooltip();

    });
</script>

